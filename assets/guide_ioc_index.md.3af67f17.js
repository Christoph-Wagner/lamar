import{_ as e,c as a,o as n,a as s}from"./app.35d600bb.js";const f='{"title":"Lamar as IoC Container","description":"","frontmatter":{},"relativePath":"guide/ioc/index.md","lastUpdated":1644423598327}',t={},r=s(`<h1 id="lamar-as-ioc-container" tabindex="-1">Lamar as IoC Container <a class="header-anchor" href="#lamar-as-ioc-container" aria-hidden="true">#</a></h1><p>Part of Lamar&#39;s mission is to be a much more performant replacement for the venerable <a href="http://structuremap.github.io/" target="_blank" rel="noopener noreferrer">StructureMap</a> IoC container library. As such, it supports much of the syntax of StructureMap&#39;s <code>IContainer</code> interface and <a href="http://structuremap.github.io/registration/registry-dsl/" target="_blank" rel="noopener noreferrer">Registry DSL</a> syntax for service registrations with the hopes that Lamar can be a near drop in replacement in many systems that use StructureMap today.</p><p>Because most new server side development in .Net today is targeting <a href="http://ASP.Net" target="_blank" rel="noopener noreferrer">ASP.Net</a> Core, Lamar was purposely designed and built to maximize compliance with the underlying <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.0" target="_blank" rel="noopener noreferrer">IoC behavior assumed by ASP.Net Core</a>. To reduce friction in Lamar usage, Lamar <strong>directly implements</strong> the core <a href="http://ASP.Net" target="_blank" rel="noopener noreferrer">ASP.Net</a> Core abstractions for dependency injection as shown in the samples below:</p><p>Lamar&#39;s <code>Container</code> class subclasses another class in Lamar called <code>Scope</code> that you probably won&#39;t interact with much directly:</p><p><a id="snippet-sample_container-declaration"></a></p><div class="language-cs"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Scope</span><span class="token punctuation">,</span> <span class="token class-name">IContainer</span><span class="token punctuation">,</span> <span class="token class-name">INestedContainer</span><span class="token punctuation">,</span> <span class="token class-name">IServiceScopeFactory</span><span class="token punctuation">,</span> <span class="token class-name">IServiceScope</span><span class="token punctuation">,</span>
        <span class="token class-name">ISupportRequiredService</span></span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar/Container.cs#L13-L18" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_container-declaration" title="Start of snippet">anchor</a></sup></p><p><code>Scope</code> itself directly implements several other <a href="http://ASP.Net" target="_blank" rel="noopener noreferrer">ASP.Net</a> Core related interfaces:</p><p><a id="snippet-sample_scope-declarations"></a></p><div class="language-cs"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Scope</span> <span class="token punctuation">:</span> IServiceContext
<span class="token preprocessor property">#<span class="token directive keyword">if</span> NET6_0_OR_GREATER</span>
        <span class="token punctuation">,</span> IServiceProviderIsService
<span class="token preprocessor property">#<span class="token directive keyword">endif</span></span>
</code></pre></div><p><sup><a href="https://github.com/JasperFx/lamar/blob/master/src/Lamar/IoC/Scope.cs#L21-L27" title="Snippet source file">snippet source</a> | <a href="#snippet-sample_scope-declarations" title="Start of snippet">anchor</a></sup></p><p><a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.iservicescope?view=aspnetcore-2.1" target="_blank" rel="noopener noreferrer">IServiceScope</a>, <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.isupportrequiredservice?view=aspnetcore-2.1" target="_blank" rel="noopener noreferrer">ISupportRequiredService</a>, <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.iservicescopefactory?view=aspnetcore-2.1" target="_blank" rel="noopener noreferrer">IServiceScopeFactory</a> are all <a href="http://ASP.Net" target="_blank" rel="noopener noreferrer">ASP.Net</a> Core DI abstractions.</p>`,12),o=[r];function p(c,i,l,d,u,m){return n(),a("div",null,o)}var _=e(t,[["render",p]]);export{f as __pageData,_ as default};
